enum error_code_e
{
    RC_OK = 0;
    RC_PARAMS_ERRORS = 1;
    
    RC_QLINK_NOT_FOUND = 10;
    RC_QLINK_ALEADY_REGISTER = 11;

    RC_RESULT_NOT_FOUND = 12;
    
    RC_SERVER_BUSY = 1000;
}

/******************************************************************************************/
//CMD_SEL_ACCESS
message msg_reqSelAccess
{
	required string type        		= 1;
    required string account     		= 2;
	optional string version				= 3;
    optional string agent				= 4; 
    optional string sanbot_model		= 5; 
    optional string shipment_address	= 6;
	optional uint32 select_type			= 7;  // 1=register, 2=access+p2p+uid, 3=pc_get_qrcode
}

//CMD_RSP_SEL_ACCESS
message msg_rspSelAccess
{
	optional string access_ip		= 1;			//access地址
	optional uint32 access_port		= 2;			//access端口
	optional string p2p_ip			= 3;			//p2p地址
	optional uint32 p2p_port		= 4;			//p2p端口
	optional string file_ip			= 5;			//file地址
	optional uint32 file_port		= 6;			//file端口
	optional uint32 user_id         = 7;            //user_id
	optional string register_ip		= 8;			//register_svr地址
	optional uint32 register_port	= 9;			//register_svr端口
	optional string pc_qrcode_ip	= 10;           //pc_get_qrcode地址
    optional uint32 pc_qrcode_port	= 11;           //pc_get_qrcode端口 
}
/******************************************************************************************/

/******************************************************************************************/
//CMD_GW_REGISTER_SMS_QUERY_REQ 注册验证码请求
message register_sms_query_req
{
    required uint32 app_id      = 1;
    required string tel         = 2;
    required string IMEI        = 3;
    required string UDID        = 4;
}
//CMD_GW_REGISTER_SMS_QUERY_RSP 注册验证码响应
message register_sms_query_rsp
{
    required error_code_e error_code  = 1;
    required string desc              = 2;
}

// CMD_GW_REGISTER_SMS_CHECK_REQ 注册验证码判断请求
message register_sms_check_req
{
  required int32 app_id          = 1;
  required string IMEI           = 2;
  required string UDID           = 3;
  required string tel            = 4;
  required string identify_code  = 5;
}
// CMD_GW_REGISTER_SMS_CHECK_RSP 注册验证码判断响应
message register_sms_check_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_GW_REGISTER_REG_REQ 注册请求
message gw_register_reg_req
{
  required int32 app_id       = 1;
  required string type        = 2;
  required string account     = 3;
  required string pass_word   = 4;
  required string tel         = 5;
  required string identifycode= 6;
  required string mail        = 7;
  required string alias       = 8;

  optional int32 sex          = 17;
  optional string birthday    = 18;
  optional int32 height       = 19;
  optional int32 weight       = 20;
  optional string question1   = 22;
  optional string answer1     = 23;
  optional string question2   = 24;
  optional string answer2     = 25;
  optional string question3   = 26;
  optional string answer3     = 27;
  optional string weibo_id    = 28;
  optional string qq_id       = 29;
  optional string weixin_id   = 30;
  optional string system      = 31;   //android or iOS
}
// CMD_GW_REGISTER_REG_RSP 注册响应
message gw_register_reg_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;

  optional string qlink_id          = 4;
  optional uint32 uid               = 3;
}

// CMD_GW_ACCOUNT_CHECK_REQ 帐号使用状态请求
message gw_account_check_req
{
  required int32 app_id       = 1;
  required string type        = 2;
  required string account     = 3;
}
// CMD_GW_ACCOUNT_CHECK_RSP 帐号使用状态响应
message gw_account_check_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_GW_ACCOUNT_QUERY_REQ 查询请求
message gw_account_query_req
{
  required int32 app_id       = 1;
  required string type        = 2;
  required string account     = 3;
  required string pass_word   = 4;
  
  required string query_type  = 5;
}
// CMD_GW_ACCOUNT_QUERY_RSP 查询请求响应
message gw_account_query_rsp
{
  required error_code_e error_code  = 1;
  required string account           = 2;
  optional string tel               = 3;
  optional string alias             = 16;
  optional int32 sex                = 17;
  optional string birthday          = 18;
  optional int32 height             = 19;
  optional int32 weight             = 20;
  optional string mail              = 21;
  optional string question1         = 22;
  optional string question2         = 23;
  optional string question3         = 24;
  optional string url               = 25;
}

// CMD_GW_ACCOUNT_MODIFY_REQ 帐号修改请求
message gw_account_modify_req
{
  required int32 app_id       = 1;
  required string type        = 2;
  required string account     = 3;
  required string password    = 4;
  required string modifytype  = 5;
  required string value       = 6;
}
// CMD_GW_ACCOUNT_MODIFY_RSP 帐号修改响应
message gw_account_modify_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_GW_DEV_ACCOUNT_QUERY_REQ 设备查询请求
message gw_dev_account_query_req
{
  required int32 app_id       = 1;
  required int32 uid          = 2;  
  required string query_type   = 3;
  required string imei         = 4;
  required string token        = 5;
}

// CMD_GW_DEV_ACCOUNT_QUERY_RSP 设备查询响应
message gw_dev_account_query_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  required string account           = 3;
  optional string tel               = 16;
  optional string alias             = 17;
  optional int32 sex                = 18;
  optional string birthday          = 19;
  optional int32 height             = 20;
  optional int32 weight             = 21;
  optional string mail              = 22;
  optional string url               = 26;
}

// CMD_GW_DEV_ACCOUNT_MODIFY_REQ 帐号修改请求
message gw_dev_account_modify_req
{
  required int32 app_id       = 1;
  required int32 uid          = 2;
  required string modifytype  = 3;
  required string value       = 4;
  required string imei        = 5;
  required string token       = 6;
}

// CMD_GW_DEV_ACCOUNT_MODIFY_RSP 帐号修改响应
message gw_dev_account_modify_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

/******************************************************************************************/

/******************************************************************************************/
// CMD_GW_ACCOUNT_LOGIN_REQ 登录请求
message gw_account_login_req
{
  required int32 app_id       = 1;
  required string type        = 2;
  required string account     = 3;
  required string pass_word   = 4;
  optional string IMEI        = 5;
  optional string UDID        = 6;
  optional string tel         = 7;
  optional string app_ver     = 8;
  optional uint32 cli_type    = 9;  // pc客户端 1=android，2=ios，3=pc，4=web(暂未使用)
  optional string dev_id      = 10;  // 设备唯一标示（cli_type存在时生效）
  optional uint32 end_type    = 11;  // 客户端终端类型1=ios（ios按照原有流程） 2=huawei 3=meizu 4=xiaomi 5=otherAndroidPlatform
  optional string lan_ip      = 12;  // 局域网ip信息
}
// CMD_GW_ACCOUNT_LOGIN_RSP 登录响应
message gw_account_login_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  optional string token             = 3;
  optional int32 uid                = 4;
  optional int32 status             = 5; // 0=pc not online 1= pc online
}

// CMD_GW_ACCOUNT_LOGOUT_REQ 登出请求
message gw_account_logout_req
{
  required int32 app_id       = 1;
  required string type        = 2;
  required string account     = 3;
  required string token       = 4;
}
// CMD_GW_ACCOUNT_LOGOUT_RSP 登出响应
message gw_account_logout_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_GW_ACCOUNT_LOGIN_SMS_QUERY_REQ 登录验证码请求
message gw_account_login_sms_query_req
{
  required int32 app_id       = 1;
  required string type        = 2;
  required string account     = 3;
  optional string IMEI        = 16;
  optional string UDID        = 17;
  optional string tel         = 18;
}
// CMD_GW_ACCOUNT_LOGIN_SMS_QUERY_RSP 登录验证码响应
message gw_account_login_sms_query_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_GW_ACCOUNT_SMS_LOGIN_REQ 验证码登录请求
message gw_account_sms_login_req
{
  required int32 app_id       = 1;
  required string type        = 2;
  required string account     = 3;
  required string identify_code = 4;
  required string tel         = 5;
  required string pass_word   = 6;
  optional string imei        = 16;
  optional string udid        = 17;
  optional string app_ver     = 18;
  optional uint32 end_type    = 19;  // 客户端终端类型1=ios（ios按照原有流程） 2=huawei 3=meizu 4=xiaomi 5=otherAndroidPlatform
  optional string lan_ip      = 20;  // 局域网ip信息
}

// CMD_GW_ACCOUNT_SMS_LOGIN_RSP 验证码登录响应
message gw_account_sms_login_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  optional string token             = 3;
  optional int32 uid                = 4;
  optional uint32 status			= 5;
}

// CMD_ACCOUNT_FORCE_LOGOUT_REQ 强制下线请求
message account_force_logout_req
{
  required int32 uid           = 1;
  required uint32 conn_id      = 2;
}
// CMD_ACCOUNT_FORCE_LOGOUT_RSP 强制下线响应
message account_force_logout_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_GW_DEV_ACCOUNT_LOGIN_REQ 设备登录请求
message gw_dev_account_login_req
{
  required int32 app_id       = 1;
  required string type        = 2; // device
  required string account     = 3;
  required string IMEI        = 16;
  optional string dev_sys_ver         = 17;  // 机器人系统大版本
  optional string dev_mcu_top_ver     = 18;  // 机器人单片机头部版本
  optional string dev_mcu_bottom_ver  = 19;  // 机器人单片机底部版本
  optional string dev_idaring_ver     = 20;  // 机器人idaring版本
}

// CMD_GW_DEV_ACCOUNT_LOGIN_RSP 设备登录响应
message gw_dev_account_login_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  optional string token             = 16;
  optional int32 uid                = 17;
}

// CMD_GW_ACCOUNT_APNS_ID_UPDATE_REQ apns更新请求
message account_gw_apns_id_update_req
{
  required uint32 uid          = 1;
  required string apns_id      = 2;
}

// CMD_GW_ACCOUNT_APNS_ID_UPDATE_RSP apns更新响应
message account_gw_apns_id_update_rsp
{
  required error_code_e error_code  = 1;
}

/******************************************************************************************/

/******************************************************************************************/

// CMD_ACCOUNT_RELATIONSHIP_ADD_ASK_REQ 增加好友请求
message account_relationship_add_ask_req
{
  required uint32 app_id          = 1;
  required uint32 src_uid         = 2;
  required string src_token       = 3;
  required uint32 dst_uid         = 4;
  required string dsc             = 5;
}
// CMD_ACCOUNT_RELATIONSHIP_ADD_ASK_RSP 增加好友响应
message account_relationship_add_ask_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_ACCOUNT_RELATIONSHIP_ADD_ASK_ONLINE_SEND_2_PEER_REQ 增加好友消息请求
message account_relationship_add_ask_online_send_2_peer_req
{
  required uint32 ask_uid         = 1;
  required uint32 asked_uid       = 2;
  required string dsc             = 3;
  required uint32 msg_id          = 4;
  optional uint32 dev_uid         = 5; // 带上这个选项，则说明是添加设备为好友，在同意增加好友应答请求时，把这个写入dev_uid中。
  optional uint32 note_time         = 6; 
}
// CMD_ACCOUNT_RELATIONSHIP_ADD_ASK_ONLINE_SEND_2_PEER_RSP 增加好友消息响应
message account_relationship_add_ask_online_send_2_peer_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  required uint32 msg_id            = 3;
  required uint32 uid               = 4;
}

message network_permission_table_info
{
  required uint32  friend_user_id     = 1;
  required uint64  permission         = 2;
  // 扩展字段(暂不使用)
  optional uint64  u64externd         = 3;
  optional string  strexternd         = 4;
}
// CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ANSWER_REQ 增加好友应答请求
message account_msg_relationship_add_answer_req
{
  required uint32 app_id          = 1;
  required uint32 ask_uid         = 2;
  required uint32 answer_type     = 3;
  required uint32 answer_uid      = 4;
  required uint32 msg_id          = 5;
  optional network_permission_table_info permission_info = 6;
  optional uint32 dev_uid         = 7; // 带上这个选项，则说明是添加设备为好友
}
// CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ANSWER_RSP 增加好友应答响应
message account_msg_relationship_add_answer_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ANSWER_SEND_2_PEER_REQ 应答结果请求
message account_msg_relationship_add_answer_send_2_peer_req
{
  required uint32 answer_uid     = 1;
  required uint32 answer_type    = 2;
  required uint32 ask_uid        = 3; 
  required uint32 msg_id         = 4; 
  optional uint32 dev_mgr        = 5; // 是否是设备管理者，1=是 0=否
}
// CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ANSWER_SEND_2_PEER_RSP 应答结果响应
message account_msg_relationship_add_answer_send_2_peer_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  required uint32 ask_uid        = 3; 
  required uint32 msg_id         = 4;
}

// CMD_ACCOUNT_RELATIONSHIP_DELETE_REQ 删除好友请求
message account_relationship_delete_req
{
  required uint32 app_id          = 1;
  required uint32 src_uid         = 2;
  required string src_token       = 3;
  required uint32 dst_uid         = 4;
}
// CMD_ACCOUNT_RELATIONSHIP_DELETE_RSP 删除好友响应
message account_relationship_delete_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_ACCOUNT_RELATIONSHIP_QUERY_REQ 好友关系查询请求(查询好友列表)
message account_relationship_query_req
{
  required uint32 app_id          = 1;
  required uint32 uid             = 2;
}
// CMD_ACCOUNT_RELATIONSHIP_QUERY_RSP 好友关系查询响应
message account_relationship_query_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  repeated uint32 list_user_id      = 3;
}

// CMD_ACCOUNT_RELATIONSHIP_MESSAGE_ADD_ASK_QUERY_REQ 好友消息查询请求
message account_relationship_message_add_ask_query_req
{
  required uint32 app_id          = 1;
  required uint32 uid             = 2;
  required string token           = 3;
}
// CMD_ACCOUNT_RELATIONSHIP_MESSAGE_ADD_ASK_QUERY_RSP 好友消息查询响应.
message account_msg_relationship_add_ask_list
{
  required uint32 ask_uid         = 1;
  required uint32 asked_uid       = 2;
  required string dsc             = 3;
  required int32 msg_id           = 4;
  optional uint32 dev_uid        = 5; // 带上这个选项，则说明是添加设备为好友，在同意增加好友应答请求时，把这个写入dev_uid中。
  optional uint32 app_flag    = 6; // 0:app端已经处理 1:app端未处理
  optional uint32 pc_flag     = 7; // 0:pc端已经处理  1:pc端未处理
  optional uint32 note_time     = 8; 
}
message account_relationship_message_add_ask_query_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  repeated account_msg_relationship_add_ask_list msg_list = 3;
}

// CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ASK_DELETE_REQ 删除【请求好友消息】记录请求
message account_msg_relationship_add_ask_delete_req
{
  required uint32 app_id          = 1;
  required int32 uid              = 2;
  required string token           = 3;
  repeated int32 msg_id_list      = 4;
}
// CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ASK_DELETE_RSP 删除【请求好友消息】记录响应
message account_msg_relationship_add_ask_delete_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

//CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ANSWER_QUERY_REQ 【请求好友】应答消息查询请求
message account_msg_relationship_add_answer_query_req
{
  required uint32 app_id          = 1;
  required int32 uid              = 2;
  required string token           = 3;
}
//CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ANSWER_QUERY_RSP 【请求好友】应答消息查询应答
message account_msg_relationship_add_answer_query
{
  required int32 ask_user_id      = 1;
  required int32 answer_user_id   = 2;
  required int32 answer_type      = 3;
  required int32 msg_id           = 4;
}
message account_msg_relationship_add_answer_query_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  
  repeated account_msg_relationship_add_answer_query msg_list = 3;
}

//CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ANSWER_DELETE_REQ 【请求好友】应答消息删除请求
message account_msg_relationship_add_answer_delete_req
{
  required uint32 app_id               = 1;
  required int32 uid                   = 2;
  required string token                = 3;
  repeated uint32 msg_id_list          = 4;
}
//CMD_ACCOUNT_MSG_RELATIONSHIP_ADD_ANSWER_DELETE_RSP 【请求好友】应答消息删除响应
message account_msg_relationship_add_answer_delete_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_GW_ACCOUNT_FRI_VERSION_REQ 查询好友版本请求
message account_msg_friend_version_req
{
  required uint32 app_id      = 1;
  required int32 uid          = 2;
  required string token       = 3;
}
// CMD_GW_ACCOUNT_FRI_VERSION_RSP 查询好友版本响应
message friend_version
{ 
  required int32 friend_uid = 1;
  required int32 base_version = 2; 
  required int32 remarks_version = 3; 
}
message account_msg_friend_version_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  repeated friend_version version   = 3;
}

//CMD_GW_ACCOUNT_FRI_BASE_INFO_QUERY_REQ 查询好友基本信息请求
message account_friend_base_info_query_req
{
  required uint32 app_id      = 1;
  required int32 uid          = 2;
  required string token       = 3;
  repeated int32 fuid_list    = 4;
}
//CMD_GW_ACCOUNT_FRI_BASE_INFO_QUERY_RSP 查询好友基本信息响应
message friend_base_info
{ 
  required int32 friend_uid   = 1;
  required string account     = 2;
  
  optional string tel         = 16;
  optional string alias       = 17;
  optional int32 sex          = 18;
  optional string birthday    = 19;
  optional int32 height       = 20;
  optional int32 weight       = 21;
  optional string mail        = 22;
  optional string url         = 23;  
  optional string sub_type    = 24; // 子类型，用于标识账户是账户或者是设备。
  optional int32 account_func = 25; // 账户功能，用于标识账户是内部特殊账户，或者是该账户为其他特殊功能,1=文件传输助手
}
message account_friend_base_info_query_rsp
{
  required error_code_e error_code     = 1;
  required string desc                 = 2;
  repeated friend_base_info base_info  = 3;
}

//CMD_GW_ACCOUNT_FRI_REMARKS_INFO_QUERY_REQ 查询好友备注信息请求
message account_friend_remarks_info_query_req
{
  required uint32 app_id      = 1;
  required int32 uid          = 2;
  required string token       = 3;
  repeated int32 fuid_list    = 4;
}
message friend_remarks_info
{ 
  required int32 friend_uid   = 1; 
  required string remarks      = 2; 
  optional uint32 fm_ties      = 3;  // 家庭关系链 0-不是家庭成员 1-家庭成员
}

//CMD_GW_ACCOUNT_FRI_REMARKS_INFO_QUERY_RSP 查询好友备注信息响应
message account_friend_remarks_info_query_rsp
{
  required error_code_e error_code           = 1;
  required string desc                       = 2;
  repeated friend_remarks_info remarks_info  = 3;
}

//CMD_GW_ACCOUNT_FRI_REMARKS_DATA_WRITE_REQ 设置好友备注
message account_msg_friend_remarks_write_req
{
  required uint32 app_id          = 1;
  required int32 uid              = 2;
  required string token           = 3;
  required int32 friend_user_id   = 4;
  required string remarks         = 5;
}
//CMD_GW_ACCOUNT_FRI_REMARKS_DATA_WRITE_RSP
message account_msg_friend_remarks_write_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

// CMD_ACCOUNT_UID_QUERY_REQ 根据帐号查询uid请求
message account_uid_query_req
{
    required int32 app_id       = 1;
    required string type        = 2;
    required string account     = 3;
}
// CMD_ACCOUNT_UID_QUERY_RSP 根据帐号查询uid响应
message account_uid_query_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  optional int32 uid                = 3;
}

/******************************************************************************************/

/******************************************************************************************/

// 消息
message chat_message
{
	required uint32 seq				= 1;//消息序号
	required uint32 date			= 2;//日期
	required uint32 usec			= 3;	  
	required uint32 src_user_id		= 4;//源头用户ID  
	required uint32 dst_user_id		= 5;//目标用户ID
	required string datas			= 6;//消息内容
	required uint32 encrypt			= 7;	
	required uint32 type			= 8;
	required uint32 src_group_id	= 9;//源头群组ID
    required uint32 dst_group_id	= 10;//目标群组ID
	optional uint32 version			= 11;
	optional string mps_task_id     = 12;     
    optional uint32 mps_flag        = 13;//值为1则机器人收到mps消息需要用户点击确认消息, 值为0则机器人自动处理
}

//CMD_CLIENT_CHAT_MSG_REQ 发送消息
message message_clientChatMsgReq
{
	required chat_message msg	= 1;
}

//CMD_MSG_CHAT_CLIENT_REQ
message message_msgChatClientReq
{
    required uint32 user_id          = 1;    //用户ID
    repeated chat_message unread_msg = 2;    //未读消息
}


//#define CMD_CLIENT_PULL_MSG_RSP			0x10406
message message_send_write_req
{
	required uint32 user_id 		 = 1;		//用户ID
	repeated chat_message unread_msg = 2;		//未读消息
}

//#define CMD_CLIENT_UPDATE_MSG_REQ				0x10407
message message_rev_del_req
{
	required uint32 user_id = 1;			//用户ID
	repeated uint32 seq		= 2;			//推送消息的消息序号
}

//#define CMD_CLIENT_PULL_MSG_REQ				0x10405
message message_rev_read_req
{
    required uint32 user_id = 1;            //用户ID
    required uint32 count     = 2;            //多少条
}

/******************************************************************************************/

/******************************************************************************************/

message ctrl_message
{
    required uint32 seq         = 1;             //消息序号
    required uint32 date        = 2;             //秒数
    required uint32 usec        = 3;             //微妙
    required uint32 src_user_id = 4;             //源头用户ID  
    required uint32 dst_user_id = 5;             //目标用户ID
    required string req_data    = 6;             //请求消息内容
    required uint32 encrypt     = 7;             //加密类型:0=base64
    required uint32 type        = 8;             //消息类型

    required string rsp_data    = 9;             //回复消息内容
	optional uint32 version = 10;

}

//#define CMD_CLIENT_CTRL_MSG_REQ             0x10501 
message message_clientCtrlMsgReq
{
    required ctrl_message msg    = 1;
}

//#define CMD_CLIENT_CTRL_MSG_RSP             0x10502
message message_clientCtrlMsgRsp
{
    required ctrl_message msg    = 1;
}

//#define CMD_MSG_CTRL_DEVICE_REQ             0x10503
message message_msgCtrlDeviceReq
{
    required ctrl_message msg    = 1;
}

//#define CMD_MSG_CTRL_DEVICE_RSP             0x10504
message message_msgCtrlDeviceRsp
{
    required ctrl_message msg    = 1;
}

/******************************************************************************************/

/******************************************************************************************/

//#define CMD_CLIENT_STARTUP_FILE_REQ			0x23001
message message_clientStartupFile_req
{
	required uint32 user_id 	= 1;		//用户ID
	required uint32 dst_user_id = 2;		//目标用户ID	
	required string token 		= 3;		//登陆token
	required string file_md5	= 4;		//文件md5值
	required uint64 file_size 	= 5;		//文件大小
	required uint32 type 		= 6;		//类型		
}

//#define CMD_CLIENT_STARTUP_FILE_REQ			0x23001
message message_clientStartupFile_rsp
{
	required uint32 exist		= 1;		//文件是否已经存在，0=不存在，1=存在
	required uint64 fid			= 2;		//文件存在=编号	
	optional uint64 recv_size	= 3;		//文件不存在=已经收到的文件大小(用于断点续传)
}

//#define CMD_CLIENT_UPLOAD_FILE_RSP			0x23004
message message_clientUploadFile_rsp
{
	required uint64 recv_size	= 1;		//已经收到的文件大小	
}

//#define CMD_CLIENT_FINISHUP_FILE_RSP		0x23006
message message_clientFinishupFile_rsp
{
	required uint64 fid			= 1;		//编号	
}

//#define CMD_CLIENT_STARTDOWN_FILE_REQ		0x23007
message message_clientStartdownFile_req
{
	required uint32 user_id 	= 1;		//用户ID
	required string token 		= 2;		//登陆token
	required uint64 fid			= 3;		//编号
	required uint32 small		= 4;		//0=原图，1=缩略图
}

//#define CMD_CLIENT_STARTDOWN_FILE_RSP		0x23008
message message_clientStartdownFile_rsp
{
	required string file_md5	= 1;		//文件md5值
	required uint64 file_size 	= 2;		//文件大小
	required uint32 type 		= 3;		//文件类型
}

//#define CMD_CLIENT_DOWNLOAD_FILE_REQ		0x23009
message message_clientDownloadFile_req
{
	required uint64 recv_size	= 1;		//已经收到的文件大小		
}

/******************************************************************************************/

/******************************************************************************************/
//CMD_ACCOUNT_USR_PERMISSION_QUERY_REQ 账户权限获取请求
message account_usr_permission_query_req
{
  required uint32  uid               = 1;
  required uint32  type             = 2;
}

//CMD_ACCOUNT_USR_PERMISSION_QUERY_RSP 账户权限获取响应
message account_usr_permission_query_rsp
{
  required error_code_e error_code    = 1;
  required string desc                = 2;
  required uint32  type                  = 3;
  required string  content               = 4;
}

//CMD_ACCOUNT_USR_PERMISSION_UPDATE_REQ 账户权限更新请求
message account_usr_permission_update_req
{
  required uint32   uid               = 1;
  required uint32  type             = 2;
  required string  content          = 3;
}

//CMD_ACCOUNT_USR_PERMISSION_UPDATE_RSP 账户权限更新响应
message account_usr_permission_update_rsp
{
  required error_code_e error_code    = 1;
  required string desc                = 2;
}

//CMD_ACCOUNT_USR_PERMISSION_DEL_REQ 账户权限删除请求
message account_usr_permission_del_req
{
  required uint32  uid               = 1;
  required uint32  type             = 2;
}

//CMD_ACCOUNT_USR_PERMISSION_DEL_RSP 账户权限删除响应
message account_usr_permission_del_rsp
{
  required error_code_e error_code    = 1;
}


//CMD_ACCOUNT_FRI_PERM_MODIFY_REQ
message account_fri_perm_modify_req
{
  required uint32  uid    = 1;
  repeated network_permission_table_info permission_info = 2;
}

//CMD_ACCOUNT_FRI_PERM_MODIFY_RSP
message account_fri_perm_modify_rsp
{
  required error_code_e error_code  = 1;
}

//CMD_ACCOUNT_FRI_PERM_DATA_QUERY_REQ 查询好友权限
message account_fri_perm_query_req
{
  required uint32 uid                 = 1;   // 自己uid
  repeated uint32 friend_user_id_list = 2;   // 用户id列表
}

//CMD_ACCOUNT_FRI_PERM_DATA_QUERY_RSP 返回好友权限
message account_fri_perm_query_rsp
{
  required error_code_e error_code      = 1;
  repeated network_permission_table_info permission_info = 2; 
}

/******************************************************************************************/

/******************************************************************************************/

// CMD_ACCOUNT_MODIFY_PASSWD_REQ 通过账户密码修改请求
message account_modify_passwd_req
{
  required uint32 uid           = 1;
  required string type          = 2;  
  required string account       = 3;  // 如果是手机号登陆，客户端也应该填入账户名与密码。
  required string old_passwd    = 4;
  required string new_passwd    = 5;
}

// CMD_ACCOUNT_MODIFY_PASSWD_RSP 通过账户密码修改响应
message account_modify_passwd_rsp
{
  required error_code_e error_code    = 1;
  required string desc                = 2;
}

//CMD_GW_FIND_PASSWD_SMS_QUERY_REQ 找回密码验证码请求
message register_find_passwd_sms_query_req
{
    required string tel         = 1;
}

//CMD_GW_FIND_PASSWD_SMS_QUERY_RSP 找回密码验证码响应
message register_find_passwd_sms_query_rsp
{
    required error_code_e error_code  = 1;
    required string desc              = 2;
}

// CMD_ACCOUNT_TEL_FIND_PASSWD_REQ 通过账户/手机号找回密码请求
message account_tel_find_passwd_req
{
  required string type          = 1;  
  required string account       = 2;
  required string identify_code = 3;  // _find_passwd_identify_code
  required string new_passwd    = 4;
}

// CMD_ACCOUNT_TEL_FIND_PASSWD_RSP 通过账户/手机号找回密码响应
message account_tel_find_passwd_rsp
{
  required error_code_e error_code    = 1;
  required string desc                = 2;
}


/*******************************2016-06-21********************************************/
// CMD_ACCOUNT_RELATIONSHIP_ADD_COMPLETE_REQ 添加好友完成请求.
message account_msg_relationship_add_complete_req
{
  required uint32 ask_uid         = 1;
  required uint64 dev_uid         = 2;
  required uint64 permission      = 3;
}
// CMD_ACCOUNT_RELATIONSHIP_ADD_COMPLETE_RSP 添加好友完成响应
message account_msg_relationship_add_complete_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

/*******************************2016-06-22********************************************/
//CMD_CLIENT_UNREAD_NUM_UPDATE	ios未读消息数量上报
message client_unread_num_update 
{
	required uint32 num = 1;
}

/*******************************2016-06-23********************************************/
// CMD_ACCOUNT_ADD_DEV_MANAGER_REQ 添加设备管理者请求.(设备端)
message account_add_dev_manager_req
{
  required uint32 dev_uid         = 1;	// 设备uid
  required uint32 mg_uid          = 2;	// 管理者uid(好友演变)
  
}
// CMD_ACCOUNT_ADD_DEV_MANAGER_RSP 添加设备管理者响应
message account_add_dev_manager_rsp
{
  required error_code_e error_code  = 1;
}

/*******************************2016-06-29********************************************/
// CMD_ACCOUNT_DEV_MG_FRIEND_DEL_REQ 设备管理者删除设备好友请求
message account_dev_mg_friend_del_req
{
  required uint32 dev_mg_uid          = 1;	// 设备管理者uid
  required uint32 dev_uid             = 2;	// 设备uid
  required uint32 dev_fuid            = 3;	// 设备好友uid
  required string token				= 4;
}
// CMD_ACCOUNT_DEV_MG_FRIEND_DEL_RSP 设备管理者删除设备好友响应
message account_dev_mg_friend_del_rsp
{
  required error_code_e error_code  = 1;
}

/////////////////////////////////////////////////////////
// CMD_ACCOUNT_DEV_MG_FRIEND_REMARKS_MODIFY_REQ 设备管理者修改设备好友remarks请求
message account_dev_mg_friend_remarks_modify_req
{
  required uint32 dev_mg_uid          = 1;	// 设备管理者uid
  required uint32 dev_uid             = 2;	// 设备uid
  required uint32 dev_fuid             = 3;	// 设备好友uid
  required string fri_remarks     		= 4;	// 设备好友备注
  required string token				= 5;
}
// CMD_ACCOUNT_DEV_MG_FRIEND_REMARKS_MODIFY_RSP 设备管理者修改设备好友remarks响应
message account_dev_mg_friend_remarks_modify_rsp
{
  required error_code_e error_code  = 1;
}

/////////////////////////////////////////////////////////
// CMD_ACCOUNT_DEV_MG_FRIEND_PERMISSION_MODIFY_REQ 设备管理者修改设备好友权限请求
message account_dev_mg_friend_permission_modify_req
{
  required uint32 dev_mg_uid        = 1;	// 设备管理者uid
  required uint32 dev_uid    		= 2;	// 设备uid
  required uint32 dev_fuid     		= 3;	// 设备好友uid
  required uint64 permission        = 4;	// 权限
  // 扩展字段(暂不使用)
  optional uint64  u64externd       = 5;
  optional string  strexternd       = 6;
  required string token				= 7;

}
// CMD_ACCOUNT_DEV_MG_FRIEND_PERMISSION_MODIFY_RSP 设备管理者修改设备好友权限响应
message account_dev_mg_friend_permission_modify_rsp
{
  required error_code_e error_code  = 1;
}

///////////////////////////////////////////////////////////
// CMD_ACCOUNT_DEV_MG_GET_DEV_FRI_BASEINFO_REQ 设备管理者获取设备好友基本信息请求
message account_dev_mg_get_dev_fri_baseinfo_req
{
  required uint32 dev_mg_uid        = 1;	// 设备管理者uid
  required uint32 dev_uid    		= 2;	// 设备uid
  required string token				= 3;
  repeated uint32 dev_fuid			= 4;
}

message account_dev_fri_base_info_list
{
	required uint32 dev_fuid			= 1;
	
	optional uint64 permission        	= 2;
	optional uint64 perm_u64externd   	= 3;
	optional string perm_strexternd   	= 4;

	optional string account        		= 5;
	optional string alias       		= 6;
	optional string tel       			= 7;
	optional string birthday        	= 8;
	
	optional string sub_type       		= 9;
	optional string remarks       		= 10;

	optional int32 base_version 		= 11;
	optional int32 remarks_version 		= 12;
	optional string url                 = 13;
	
	optional uint32 fm_ties             = 14;  // 家庭关系链
}
// CMD_ACCOUNT_DEV_MG_GET_DEV_FRI_BASEINFO_RSP 设备管理者获取设备好友基本信息响应
message account_dev_mg_get_dev_fri_baseinfo_rsp
{
	required error_code_e error_code  = 1;
	repeated account_dev_fri_base_info_list dev_fri_base_info_list = 2;
}

/*******************************2016-06-30********************************************/
message alarm_message
{
  required uint32 alarm_channel = 1;
  required uint32 alarm_type = 2;
  required uint32 alarm_opt = 3;
  optional uint32 date = 4;
  optional uint32 usec = 5;
}
//CMD_CLIENT_SEND_ALARM_REQ
message client_send_alarm_req
{
  required alarm_message alarm = 1;
}

//CMD_SERVER_SEND_ALARM_REQ
message server_send_alarm_req
{
    required uint32 user_id          = 1;
    repeated alarm_message unread_alarm = 2;   
}

/*******************************2016-07-05********************************************/
// CMD_ACCOUNT_MODIFY_PERMISSION_NOTE_REQ 修改权限通知请求.
message account_msg_modify_permission_note_req
{
  required uint32 mgr_uid         = 1;
  required uint32 dev_fuid        = 2; 
  required uint64 permission      = 3;
}
// CMD_ACCOUNT_MODIFY_PERMISSION_NOTE_RSP 修改权限通知响应
message account_msg_modify_permission_note_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
}

/*******************************2016-07-12********************************************/
message account_version_info
{ 
  required uint32 type 			= 1;//类型说明：目前此类型为schedule，并且值为1，代表版本号意义为日程安排版本号，后续可扩展为别的版本信息
  required uint32 version 		= 2;
  optional uint32 seq			= 3;
}
// CMD_ACCOUNT_GET_VERSION_INFO_REQ	获取账户版本号信息请求
message account_get_version_info_req
{
	required uint32 uid 	= 1;
	required string token 	= 2;
}
// CMD_ACCOUNT_GET_VERSION_INFO_RSP	获取账户版本号信息响应
message account_get_version_info_rsp
{
	required error_code_e error_code    = 1;
	repeated account_version_info ver_info =2;
}

message schedule_info   //1K  50个
{
	required uint32  schd_id            = 1; 	// 日程id，设备数据库存放id，自增长
	required string  account 			= 2;	// 账户 32字节的二维码数据
	required string  timezone			= 3; 	// 时区
	required uint32  schd_start         = 4;	// 日程起始时间(完整时间戳)
	required uint32  schd_end         	= 5;	// 日程结束时间(完整时间戳) 
	required uint32  schd_mode        	= 6;	// 日程模式 （语音，唱歌，电影 等等）
	required uint32  schd_value         = 7;	// 日程模式下选择的媒体文件系统数据库 id
	required string  schd_des           = 8;	// 日程模式下编辑的内容(语音：存放的是语音的文字，媒体文件存放为文件名描述等)
	required uint32  schd_repeat        = 9;	// 日程重复模式(从1开始(1次，1周，一个月，1年))
	required uint32  schd_content       = 10;	// 日程重复模式下值（只有在选择了按每周模式下，1-7对应(周一 到 周日)，其余模式存放值0）
	optional uint32  priority     		= 11;	// 优先级
	optional string  schd_name     		= 12;	// 日程名称
	optional uint64  schd_u64extern     = 13;	// 扩展字段暂不使用
	optional string  schd_strextern     = 14;	// 扩展字段暂不使用
}
// CMD_ACCOUNT_DEV_ADD_SCHEDULE_REQ 设备添加日程安排请求
message account_dev_add_schedule_req
{
	required uint32  uid    			= 1;
	required string  token   			= 2;	
	required schedule_info schd_info	= 3;
}
// CMD_ACCOUNT_DEV_ADD_SCHEDULE_RSP 设备添加日程安排响应
message account_dev_add_schedule_rsp
{
	required error_code_e error_code    = 1;
}

// CMD_ACCOUNT_DEV_DEL_SCHEDULE_REQ 设备删除日程安排请求
message account_dev_del_schedule_req
{
	required uint32  uid    			= 1;
	required string  token   			= 2;
	required uint32  schd_id            = 3; 	// 日程id
}
// CMD_ACCOUNT_DEV_DEL_SCHEDULE_RSP 设备删除日程安排响应
message account_dev_del_schedule_rsp
{
	required error_code_e error_code    = 1;
}

// CMD_ACCOUNT_DEV_QUERY_SCHEDULE_CNT_REQ 设备查询日程安排数量请求
message account_dev_query_schedule_cnt_req
{
	required uint32  uid    			= 1;
	required string  token   			= 2;
}

// CMD_ACCOUNT_DEV_QUERY_SCHEDULE_CNT_RSP 设备查询日程安排数量响应
message account_dev_query_schedule_cnt_rsp
{
	required error_code_e error_code    = 1;
	repeated uint32  schd_id			= 2; // 日程id，
}

// CMD_ACCOUNT_DEV_QUERY_SCHEDULE_REQ 设备查询日程安排请求
message account_dev_query_schedule_req
{
	required uint32  uid    			= 1;
	required string  token   			= 2;
	repeated uint32  schd_id            = 3; // 日程id 最大50个
}

// CMD_ACCOUNT_DEV_QUERY_SCHEDULE_RSP 设备查询日程安排响应
message account_dev_query_schedule_rsp
{
	required error_code_e error_code    = 1;
	repeated schedule_info schd_info    = 2;
}

// CMD_ACCOUNT_DEV_UPDATE_SCHEDULE_REQ 设备更新日程安排请求
message account_dev_update_schedule_req
{
	required uint32  uid    			= 1;
	required string  token   			= 2;	
	required schedule_info schd_info	= 3;
}
// CMD_ACCOUNT_DEV_UPDATE_SCHEDULE_RSP 设备更新日程安排响应
message account_dev_update_schedule_rsp
{
	required error_code_e error_code    = 1;
}

// CMD_ACCOUNT_DEV_DEL_ALL_SCHEDULE_REQ 设备删除所有日程安排请求
message account_dev_del_all_schedule_req
{
	required uint32  uid    			= 1;
	required string  token   			= 2;
}
// CMD_ACCOUNT_DEV_DEL_ALL_SCHEDULE_RSP 设备删除所有日程安排响应
message account_dev_del_all_schedule_rsp
{
	required error_code_e error_code    = 1;
}

/*******************************2016-07-14********************************************/
// CMD_ACCOUNT_DEV_MG_GET_DEV_FRI_CNT_REQ 设备管理者获取设备好友数量请求
message account_dev_mg_get_dev_fri_cnt_req
{
  required uint32 dev_mg_uid        = 1;	// 设备管理者uid
  required uint32 dev_uid    		= 2;	// 设备uid
  
}
// CMD_ACCOUNT_DEV_MG_GET_DEV_FRI_CNT_RSP 设备管理者获取设备好友数量响应
message account_dev_mg_get_dev_fri_cnt_rsp
{
	required error_code_e error_code  	= 1;
	repeated uint32 dev_fuid 			= 2;
}

/*******************************2016-07-20********************************************/
// 通讯录 32 + 32 + 128 + 64 + 16 = 272
message contacts_info	
{
	required string name        = 1;	// 名字
	required string tel      	= 2;	// 手机号
	optional string addr        = 3;	// 家庭住址
	optional string mail        = 4;	// 邮箱
	optional string birth       = 5;	// 生日格式：yyyy-mm-dd
}
// CMD_UPLOAD_CONTACTS_REQ 上传通讯录请求 上传一次60k理论最大数量：//最大100个
message upload_contacts_req
{
	required uint32 uid			= 1;
	repeated contacts_info info = 2; 
}
// CMD_UPLOAD_CONTACTS_RSP 		上传通讯录响应
message upload_contacts_rsp
{
	required error_code_e error_code  = 1;
}

// QLINK操作记录	4 + 4 + 4 + 4 + 32 = 48
message ql_oprt_info
{
	required uint32 page_seq    = 1;	// 页面序号
	required uint32 oper        = 2;	// 页面序号下的Qlink操作(注册、登录或其他操作)
	required uint32 opertime    = 3;	// Qlink操作时间
	required uint32 qlinkv      = 4;	// qlink版本号
	required string system      = 5;	// Android or iOS
}
// CMD_UPLOAD_QL_ACTION_REQ 	QLINK操作记录请求  上传一次60k理论最大数量：最大500个
message upload_ql_action_req
{
	required uint32 uid			= 1;
	repeated ql_oprt_info info 	= 2;
}
// CMD_UPLOAD_QL_ACTION_RSP 	QLINK操作记录响应
message upload_ql_action_rsp
{
	required error_code_e error_code  = 1;
}

// Sanbot app 应用点击列表 4+4+4+4+256+256
message app_click_list_info 
{
	required uint32 app_code    = 1;	// APP包名对应编码
	required uint32 app_ver     = 2;	// app版本
	required uint32 controller  = 3;	// APP控制方式（语音、点击）
	required uint32 func_action = 4;	// APP功能操作
	required uint32 rec_time    = 5;	// 记录时间
	optional string reserve1    = 6;	// 保留字段1
	optional string reserve2    = 7;	// 保留字段2
}
// CMD_UPLOAD_SBOT_APP_CLICK_LIST_REQ 	Sanbot app 应用点击列表请求 100
message upload_sbot_app_click_list_req
{
	required uint32 uid			= 1;	
	repeated app_click_list_info info = 2;
}
// CMD_UPLOAD_SBOT_APP_CLICK_LIST_RSP 	Sanbot app 应用点击列表响应
message upload_sbot_app_click_list_rsp
{
	required error_code_e error_code  = 1;
}

// 机器人行动操作 4+4
message sbot_action_list_info
{
	required uint32 oper  		= 1;	// 机器人行动操作：登录、开机(或其他操作)
	required uint32 opertime 	= 2;	// 操作时间
}
// CMD_UPLOAD_SBOT_ACTION_LIST_REQ 	Sanbot行动记录请求  500
message upload_sbot_action_list_req
{
	required uint32 uid			= 1;	
	repeated sbot_action_list_info info = 2;
}
// CMD_UPLOAD_SBOT_ACTION_LIST_RSP 	Sanbot行动记录响应
message upload_sbot_action_list_rsp
{
	required error_code_e error_code  = 1;
}

// CMD_UPLOAD_SBOT_VERSION_LIST_REQ 	Sanbot版本请求 // 4 + 64*4 = 256
message upload_sbot_version_list_req
{
	required uint32 uid				= 1;	// 机器人uid
	required string sys_ver  		= 2;	// 机器人系统大版本
	optional string mcu_top_ver 	= 3;	// 机器人单片机头部版本
	optional string mcu_bottom_ver 	= 4;	// 机器人单片机底部版本
	optional string idaring_ver 	= 5;	// 机器人idaring版本
}
// CMD_UPLOAD_SBOT_VERSION_LIST_RSP 	Sanbot版本响应
message upload_sbot_version_list_rsp
{
	required error_code_e error_code  = 1;
}

/*******************************2016-08-15(新版文件上传)************************************/
//#define CMD_UP_FILE_REQ        
message msg_up_file_req     
{
    required uint32 user_id      = 1;        //用户id
    required uint32 dst_user_id = 2;        //目标用户id
    
    required string file_md5    = 3;        //文件md5值
    required uint32 file_type   = 4;        //文件类型，支持类型为：=0表示头像文件; =1表示消息类；=10表示个人文件；(为了向前兼容)
    required string file_name   = 5;        //文件名称
    required uint64 file_size   = 6;        //文件大小
	
	optional string cli_desc     = 7;  // 客户端自定义使用字段
    optional uint32 alarm_type     = 8;  // 告警类型
    optional uint32 alarm_start_time   = 9;  // 告警开始时间   
    optional uint32 alarm_end_time     = 10;  // 告警开始时间
	
	optional uint32 version              = 11; //新版本此字段必带，且=1
}

//#define CMD_UP_FILE_RSP      
message msg_up_file_rsp          //4+8+512+64
{
    required uint32 exist           = 1;        //文件是否已经存在，0=不存在，1=存在
    required uint64 file_id         = 2;       //文件存在时表示文件id   
    required string up_url          = 3;        //上传url,exist==0时有效
	
    required string file_md5        = 4;		//文件md5值
    required uint32 file_type       = 5;  
    required uint32 dst_user_id     = 6;		//目标用户id
	
	optional string cli_desc     = 7;  // 客户端自定义使用字段
    optional uint32 alarm_type     = 8;  // 告警类型
    optional uint32 alarm_start_time   = 9;  // 告警开始时间   
    optional uint32 alarm_end_time     = 10;  // 告警开始时间  
	
	optional string req_id               = 11;
}

//#define CMD_FINISH_UP_FILE_REQ  
message msg_finish_up_file_req     
{
    required string file_md5    = 1;			//文件md5值
    required uint32 file_type   = 2;  
    required uint32 cancel_flag = 3;			//cancel=1表示取消
	
	optional string req_id      = 4;
} 

//#define CMD_FINISH_UP_FILE_RSP        
message msg_finish_up_file_rsp     
{
    required uint64 file_id          = 1;		//文件id    
	required uint32 dst_user_id      = 2;  		//目标用户id
}

//#define CMD_DOWN_FILE_REQ     
message msg_down_file_req
{
    required uint32 user_id         = 1;        //用户id
    required uint64 file_id         = 2;        //文件id
    required uint32 file_type       = 3;        //文件类型，支持类型为：=0表示消息类； =1表示头像文件；=10表示个人文件；(为了向前兼容)
	required uint32 thumbnails      = 4; 		//thumbnails=1 thumbnails=0表示下载原图
}

//#define CMD_DOWN_FILE_RSP 
message msg_down_file_rsp    //40+8+500+40+60=648
{
    required string file_md5    = 1;        //文件md5值
    required uint64 file_size   = 2;        //文件大小
    required string down_url    = 3;        //下载url
    required string file_name   = 4;        //文件名称
    
	required uint64 file_id     = 5;    	//文件id
    required uint32 thumbnails       = 6;
	
	optional string cli_desc    = 7;  // 客户端自定义使用字段
	optional uint32 alarm_type     = 8;  // 告警类型
    optional uint32 alarm_start_time   = 9;  // 告警开始时间   
    optional uint32 alarm_end_time     = 10;  // 告警开始时间
	
	optional string req_id           = 11;
}

//#define CMD_FINISH_DOWN_FILE_REQ  
message msg_finish_down_file_req
{
    required uint64 file_id         = 1;        //文件id
	required uint32 thumbnails      = 2;
    required uint32 cancel_flag 	= 3;  		//cancel=1表示取消
	optional string req_id          = 4;		//请求的toke(唯一标识一个下载开始请求)
}

//#define CMD_DOWN_DEFAULT_AVATAR_FILE_REQ     
message msg_down_default_avatar_file_req
{
    required uint32 user_id     = 1;        //用户id
    required uint64  file_id    = 2;        //文件id
}

//#define CMD_LIST_USER_OWN_FILES_ID_REQ    
message msg_list_user_own_files_id_req
{
    required uint32 user_id = 1;        //用户id
}

//#define CMD_LIST_USER_OWN_FILES_ID_RSP  
message msg_list_user_own_files_id_rsp          //4*2000 = 8000 = 8k
{
    repeated uint64 files_id = 1;              //文件id列表
}
 
message msg_file_info         //个人文件id详情                 //4 + 40 + 4 + 40 + 8 = 96
{
    required uint64  file_id     = 1;         //文件id
    required string file_md5    = 2;         //文件md5值
    required string file_name   = 3;        //文件名称
    required uint64 file_size   = 4;        //文件大小
	
	optional string cli_desc              = 10;  // 客户端自定义使用字段
    optional uint32 alarm_type     		  = 11;  // 告警类型
    optional uint32 alarm_start_time   	  = 12;  // 告警开始时间   
    optional uint32 alarm_end_time     	  = 13;  // 告警开始时间  
}
 
//#define CMD_LIST_USER_OWN_FILES_INFO_REQ     
message msg_list_user_own_files_info_req     //4 + 8*500 = 4004 = 4k
{
    required uint32 user_id = 1;        //用户id
    repeated uint64 files_id = 2;        //文件id列表
}

//#define CMD_LIST_USER_OWN_FILES_INFO_RSP     
message msg_list_user_own_files_info_rsp      // 96*500 = 48000 = 48k
{
    repeated msg_file_info files_info = 1;        //文件id详情列表
}

//#define CMD_DEL_USER_OWN_FILES_REQ     
message msg_del_user_own_files_req        //4 + 8*500 = 4004 = 4k
{
    required uint32 user_id = 1;         //用户id
    repeated uint64 files_id = 2;        //文件id列表
}

//CMD_CLIENT_GROUP_CTRL_REQ 群控
message message_clientGroupCtrlMsgReq
{
    required ctrl_message msg    = 1;
    repeated uint32 uid_set       = 2;
}

message msg_up_thread_info
{
    required string file_md5     = 1;  //文件md5值
    required uint32 file_type    = 2;  //文件类型
}

message msg_down_thread_info
{
     required uint64 file_id  = 1;  //文件id
     required uint32 thumbnails    = 2; 
}

//#define CMD_LIST_USER_THREADS_INFO_REQ
message msg_list_user_threads_info_req
{
    required uint32 user_id = 1;
}


//#define CMD_LIST_USER_THREADS_INFO_RSP
message msg_list_user_threads_info_rsp
{
    repeated msg_up_thread_info up      = 1;
    repeated msg_down_thread_info down  = 2;

    required uint32 max_up_thread_cnt   = 3;
    required uint32 max_down_thread_cnt = 4;
}

//#define CMD_CANCEL_USER_THREADS_REQ
message msg_cancel_user_threads_req
{
    required uint32 user_id            = 1;
    repeated msg_up_thread_info up     = 2;
    repeated msg_down_thread_info down = 3;
}

/*******************************2016-09-06************************************/
message online_status_set
{
    required uint32 uid             = 1;
    required int32  status         = 2;
}
//CMD_CLIENT_GET_ALL_USERS_ONLINE_STATUS_REQ
message client_get_all_users_online_status_req
{
    repeated uint32 uid_set = 1;
}
////CMD_CLIENT_GET_ALL_USERS_ONLINE_STATUS_RSP
message client_get_all_users_online_status_rsp
{
    repeated online_status_set user_status_set= 1;
}

/*******************************2016-10-17************************************/
//CMD_GET_MGR_SMS_REQ   获取修改管理者短信请求
message get_mgr_sms_req
{
    required string tel         = 1;
    required uint32 dev_uid     = 2;
}
//CMD_GET_MGR_SMS_RSP   获取修改管理者短信响应
message get_mgr_sms_rsp
{
    required error_code_e error_code  = 1;
    required string desc              = 2;
}

// CMD_CLI_PHONE_MODIFY_DEV_MGR_REQ  手机客户端修改机器人管理请求
message cli_phone_modify_dev_mgr_req
{
  required uint32 dev_uid     = 1;	// 设备uid
  required uint32 mgr_uid     = 2;	// 管理者uid
  required string tel         = 3;	// 管理者电话号码
  required string identify    = 4;	// 验证码
  optional uint32 new_mgr_uid = 5;	// 新管理者uid
  optional uint32 src_type    = 6;	// 没有-机器人，0-机器人，1-qlink客户端, >客户端
  optional uint64 old_mgr_per = 7;	// 旧管理者权限(默认其他)
}

//CMD_DEV_MGR_AUTH_REQ   机器人管理者鉴权请求
message dev_mgr_auth_req
{
    required uint32 dev_uid         = 1;
    required string mgr_account		= 2;
    required string mgr_passwd     	= 3;  // md5
}

//-----------------------------------20161028家庭成员-------------------------------------------
//CMD_FAMILI_MEMBERS_ADD_REQ 家庭成员添加请求
message family_members_add_req
{ 
  required uint32 dev_uid       = 1;  // 
  required string fm_mem_name   = 2;  // 成员名称
  required uint64 fm_mem_head   = 3;  // 成员的头像
  required uint32 fm_mem_sex    = 4;  // 性别
  required string fm_mem_birth  = 5;  // 生日
  required string pic_load      = 6;  // 人脸识别图片的图片的路径
  optional uint32 fm_mem_qlink_id  = 7;  // qlink
  optional uint64 pic_1         = 8;  // 人脸识别的图片
  optional uint64 pic_2         = 9;  // 人脸识别的图片
  optional uint64 pic_3         = 10;  // 人脸识别的图片
  optional uint64 pic_4         = 11;  // 人脸识别的图片
  optional uint64 pic_5         = 12;  // 人脸识别的图片
  optional uint64 pic_6         = 13;  // 人脸识别的图片
}

//CMD_FAMILI_MEMBERS_ADD_RSP
message family_members_add_rsp
{
  required uint32 fm_mem_id = 1;	//成员id
}

//CMD_FAMILI_MEMBERS_MODIFY_REQ 家庭成员修改请求
message family_members_modify_req
{ 
  required uint32 dev_uid       = 1;  // 
  required uint32 fm_mem_id     = 2;  // 成员id
  optional uint32 fm_mem_qlink_id  = 3;  // qlink
  optional string fm_mem_name   = 4;  // 成员名称
  optional uint64 fm_mem_head   = 5;  // 成员的头像
  optional uint32 fm_mem_sex    = 6;  // 性别
  optional string fm_mem_birth  = 7;  // 生日
  optional string pic_load      = 8;  // 人脸识别图片的图片的路径
  optional uint64 pic_1         = 9;  // 人脸识别的图片
  optional uint64 pic_2         = 10;  // 人脸识别的图片
  optional uint64 pic_3         = 11;  // 人脸识别的图片
  optional uint64 pic_4         = 12;  // 人脸识别的图片
  optional uint64 pic_5         = 13;  // 人脸识别的图片
  optional uint64 pic_6         = 14;  // 人脸识别的图片
}

//CMD_FAMILI_MEMBERS_DEL_REQ 家庭成员删除请求
message family_members_del_req
{ 
  required uint32 dev_uid     = 1;  // 设备uid
  required uint32 fm_mem_id     = 2;  // 成员id
}

//CMD_FAMILI_MEMBERS_QUERY_TOL_MEM_REQ 家庭成员总数查询请求
message family_members_query_tol_mem_req   // 
{ 
  required uint32 dev_uid     = 1;  // 设备uid
}
//CMD_FAMILI_MEMBERS_QUERY_TOL_MEM_RSP 家庭成员总数查询响应
message family_members_query_tol_mem_rsp   // 
{ 
  repeated uint32 fm_mem_id     = 1;  // 成员uid
}

//CMD_FAMILI_MEMBERS_QUERY_REQ 家庭成员查询请求 最多60个/次
message family_members_query_req   // 
{ 
  required uint32 dev_uid     = 1;  // 设备uid
  repeated uint32 fm_mem_id     = 2;  // 成员uid
}

message family_members_info
{
  required uint32 fm_mem_id     = 1;  // 成员id
  required string fm_mem_name   = 2;  // 成员名称
  required uint64 fm_mem_head   = 3;  // 成员的头像
  required uint32 fm_mem_sex    = 4;  // 性别
  required string fm_mem_birth  = 5;  // 生日
  required string pic_load      = 6;  // 人脸识别图片的图片的路径
  optional uint32 fm_mem_qlink_id  = 7;  // qlink
  optional uint64 pic_1         = 8;  // 人脸识别的图片
  optional uint64 pic_2         = 9;  // 人脸识别的图片
  optional uint64 pic_3         = 10;  // 人脸识别的图片
  optional uint64 pic_4         = 11;  // 人脸识别的图片
  optional uint64 pic_5         = 12;  // 人脸识别的图片
  optional uint64 pic_6         = 13;  // 人脸识别的图片
}

//CMD_FAMILI_MEMBERS_QUERY_RSP 家庭成员查询响应
message family_members_query_rsp
{
  repeated family_members_info info = 1;
}

// CMD_FAMILI_MEMBERS_VERSION_QUERY_REQ 家庭成员版本号查询请求
message family_members_version_query_req   // 
{ 
  required uint32 dev_uid     = 1;  // 设备uid
}

//CMD_FAMILI_MEMBERS_VERSION_QUERY_RSP 家庭成员版本号查询响应   // 不管哪个内容修改，只针对家庭成员id进行统一标示。只要有过更改则版本号加1 
message family_members_version_query_rsp 
{ 
  required uint32 version_seq     = 1;
}


// CMD_MGR_FAMILI_MEMBERS_QUERY_TOL_MEM_REQ 管理员家庭成员总数查询请求
message mgr_family_members_query_tol_mem_req   // 
{ 
  required uint32 dev_uid     = 1;  // 设备uid
  required uint32 mgr_uid     = 2;  // 管理员uid
}
// CMD_MGR_FAMILI_MEMBERS_QUERY_TOL_MEM_RSP 管理员家庭成员总数查询响应
message mgr_family_members_query_tol_mem_rsp   // 
{ 
  repeated uint32 fm_mem_id     = 1;  // 成员uid
}

// CMD_MGR_FAMILI_MEMBERS_QUERY_REQ 管理员家庭成员查询请求 最多60个/次
message mgr_family_members_query_req   // 
{ 
  required uint32 dev_uid     = 1;  // 设备uid
  required uint32 mgr_uid     = 2;  // 管理员uid
  repeated uint32 fm_mem_id     = 3;  // 成员uid
}

// CMD_MGR_FAMILI_MEMBERS_QUERY_RSP 管理员家庭成员查询响应
message mgr_family_members_query_rsp
{
  repeated family_members_info info = 1;
}


//-----------------------------------20161028客服系统-------------------------------------------
//#define CMD_STAFF_PING_REQ
message msg_staff_ping_req     
{
    required uint32 staff_id        = 1;  //客服id
}

//#define CMD_STAFF_REQ_RECV_REQ
message msg_staff_req_recv_req     
{
    required uint32 staff_id        = 1;  //客服id
	required string session_id    = 2;  //session id
	required string p2p_addr      = 3;  //服务器地址,格式"ip:port"
}

//#define CMD_STAFF_REQ_RECV_RSP
message msg_staff_req_recv_rsp     
{
    required uint32 dev_id          = 1;  //设备id
    required string session_id      = 2;  //session id
	required string p2p_addr		= 3;  //服务器地址,格式"ip:port"
}

//#define CMD_STAFF_DISCONNECT_REQ
message msg_staff_disconnect_req    
{
    required uint32 staff_id        = 1;  //客服id
}

//#define CMD_SERVER_NOTIC_DEV_OFFLINE_REQ
message msg_server_notic_dev_offline_req     
{
    required uint32 dev_id      = 1;  //设备id
}

//#define CMD_DEV_PING_REQ
message msg_dev_ping_req     
{
    required uint32 dev_id          = 1;  //设备id
}

//#define CMD_DEV_REQ_CS_REQ
message msg_dev_req_cs_req     
{
    required uint32 dev_id          = 1;  //设备id
    required uint32 service_id      = 2;  //服务id
}

//#define CMD_DEV_DISCONNECT_REQ
message msg_dev_disconnect_req     
{
    required uint32 dev_id          = 1;  //设备id
}

//#define CMD_SERVER_REQ_DEV_INFO_REQ
message msg_server_req_dev_info_req     
{
    required uint32 staff_id      = 1;  //客服id
	required string session_id    = 2;  //session id
	required string p2p_addr      = 3;  //服务器地址,格式"ip:port"
}

//#define CMD_SERVER_REQ_DEV_INFO_RSP
message msg_server_req_dev_info_rsp     
{
    required uint32 dev_id        = 1;  //设备id
	required string session_id    = 2;  //session id
	required string p2p_addr      = 3;  //服务器地址,格式"ip:port"
}  

//#define CMD_SERVER_NOTIC_STAFF_OFFLINE_REQ
message msg_server_notic_staff_offline_req     
{
    required uint32 staff_id      = 1;  //客服id
}

//#define CMD_STAFF_END_SERVICE_REQ
message msg_staff_end_service_req     
{
    required uint32 staff_id        = 1;  //客服id
}

//#define CMD_STAFF_START_SERVICE_REQ
message msg_staff_start_service_req     
{
    required uint32 staff_id        = 1;  //客服id
    required uint32 service_id      = 2;  
}

//-----------------------------------20161107客户端错误日志收集-------------------------------------------
message err_code_collect_info
{
	required string sys_vers 	= 1;
	required string hw_model 	= 2;
	required uint32 app_vers 	= 3;
	required uint32 err_code_lev = 4;
	required uint32 err_code 	= 5;
	optional string erro_value 	= 6;
	optional string other_value	= 7;
}
// CMD_ERROR_LOG_COLLECT_REQ	客户端错误日志收集请求
message error_log_collect_req 
{
	required uint32 uid 		= 1;
	required string token 		= 2;
	repeated err_code_collect_info info = 3;
}

//-----------------------------------20161107系统通知消息(单人)-------------------------------------------
// CMD_SYSTEM_NOTE_REQ 系统消息通知请求
message system_note_req   
{ 
  required uint32 msg_id       		= 1;  // 消息id序号  
  required uint32 note_type       	= 2;  // 1-好友添加  2-好友同意 3-管理者权限转移 4-pc在线 5-pc不在线 6-删除好友
  optional uint32 note_time       	= 3;  // 
  optional uint32 src_uid  			= 4;  // 源uid  （源uid用于，用户A修改、请求功能于用户B时使用。）
  optional uint32 dev_uid  		    = 5;  // 设备uid （源uid修改、设备功能时标示设备。）
  optional uint32 dst_uid  			= 6;  // 目标uid  （目标uid用于，用户A修改、请求功能于用户B时使用。）
  optional uint32 answer_type	  	= 7;  // 添加好友的应答类型
  optional string value1   		  	= 8;  // 通知内容
}

// CMD_SYSTEM_NOTE_RSP 系统消息通知响应
message system_note_rsp
{
  required uint32 uid       		= 1;  
  required string token       		= 2;  
  required uint32 msg_id    		= 3;
  required uint32 note_type 		= 4;  // 通知类型 1-好友添加  2-好友同意 3-管理者权限转移 4-pc在线 5-pc不在线 6-删除好友
}

// CMD_SYSTEM_NOTE_MSG_QUERY_REQ 系统消息查询请求
message system_note_query_req   
{ 
  required uint32 uid       		= 1;  
  required string token       		= 2;  
}
// 4+4+4+4+64+4+4+4+256+256+256+256 = 1116 
message system_note_msg_info
{   
  required uint32 msg_id       		= 1;  // 消息id序号  
  required uint32 note_type       	= 2;  // 
  optional uint32 note_time       	= 3;  // 
  optional uint32 src_uid  			= 4;  // 源uid  （源uid用于，用户A修改、请求功能于用户B时使用。）
  optional uint32 dev_uid  		    = 5;  // 设备uid （源uid修改、设备功能时标示设备。）
  optional uint32 dst_uid  			= 6;  // 目标uid  （目标uid用于，用户A修改、请求功能于用户B时使用。）
  optional uint32 answer_type	  	= 7;  // 添加好友的应答类型
  optional string value1   		  	= 8;  // 通知内容
}
// CMD_SYSTEM_NOTE_MSG_QUERY_RSP 系统消息查询响应
message system_note_msg_query_rsp
{
	repeated system_note_msg_info info = 1; 
}

message system_del_info
{
	required uint32 msg_id       		= 1;  // 消息id序号  
	required uint32 note_type       	= 2;  // 通知类型 1-好友添加  2-好友同意 3-管理者权限转移
}

// CMD_SYSTEM_NOTE_DEL_REQ 系统消息删除请求
message system_note_del_req   
{ 
  required uint32 uid       		= 1;  
  required string token       		= 2;  
  repeated system_del_info info_list = 3;
}

//-----------------------------------20161116机器人恢复出厂设置-------------------------------------------
//CMD_DEV_RESET_FACTORY_REQ   机器人恢复出厂设置请求
message dev_reset_factory_req
{
    required uint32 dev_uid         = 1;
    required string token   		= 2;
    required string mgr_account   	= 3;
    required string mgr_passwd      = 4;  // md5
}

//-----------------------------------20161205通过邮箱找回密码请求-------------------------------------------
// CMD_MAIL_FIND_PASSWD_REQ 邮箱找回密码请求  
message mail_find_passwd_req
{
  required string account = 1;
  required string mail  = 2;
  required uint32 lang    = 3; //发送邮箱语言选择 0为中文，1为英文
}

//-----------------------------------20161205账号关联新手机/新邮箱验证码请求-------------------------------------------
// ACCOUNT_ASSOCIATED_TEL_SMS_REQ 	新手机关联账户短信请求
message account_associated_tel_sms_req
{
  required uint32 uid 		= 1;
  required string token		= 2;
  required string tel		= 3;
}

// ACCOUNT_ASSOCIATED_MAIL_MSG_REQ 	新邮箱关联账户发送邮件请求
message account_associated_mail_msg_req
{
  required uint32 uid 		= 1;
  required string token 	= 2;
  required uint32 lang 		= 3; // 1为英文 0为中文
  required string mail		= 4;
}

//-----------------------------------20161214好友客户端版本查询-------------------------------------------
// CMD_ACCOUNT_FRI_VERSION_QUERY_REQ 账户版本查询请求
message account_fri_version_query_req
{
	required uint32 uid         = 1;
	required string token       = 2;
	required uint32 fuid        = 3;
}

// CMD_ACCOUNT_FRI_VERSION_QUERY_RSP
message account_fri_version_query_rsp
{
	required uint32 fuid         		= 1;
	optional string sys_ver     		= 16;  // 版本号
	optional string dev_mcu_top_ver     = 17;  // 机器人单片机头部版本
	optional string dev_mcu_bottom_ver  = 18;  // 机器人单片机底部版本
	optional string dev_idaring_ver     = 19;  // 机器人idaring版本
	optional string lan_ip           	= 20;	// app端ip
	optional string pc_lan_ip           = 21;	// pc端ip
	optional uint32 wlan_ip      		= 22;  // app外网ip信息
  	optional uint32 pc_wlan_ip      	= 23;  // pc外网ip信息
  	optional uint32 self_wlan_ip      	= 24;  // 客户端自己的外网ip信息
}

//------------------------------------20170117群组--------------------------------------------------------
message msg_group_info
{
  required uint32 group_id      = 1;
  required string group_name  	= 2;
  required uint32 owner         = 3;
  required string announcement 	= 4; // 群公告
}

message account_group_member_info
{
	required uint32 member_uid 		= 1;
	required string member_remarks 	=2;
}

//CMD_ACCOUNT_GROUP_CREATE_REQ 创建群组请求
message account_group_create_req 
{
  required uint32 uid         = 1;
  required string group_name  = 2;
  required string announcement = 3;
  repeated account_group_member_info member_info = 4; // 创建成员数。必须大于2个。
}

//CMD_ACCOUNT_GROUP_CREATE_RSP 创建群组响应
message account_group_create_rsp
{
  required error_code_e error_code  = 1;
  required string desc              = 2;
  optional uint32 group_id           = 3;
  repeated uint32 fail_list         = 4;
}

/////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_TOL_QUERY_REQ 群组总数查询请求
message account_group_tol_query_req
{
  required uint32 uid             = 1;  //用户ID
}

message group_status
{
  required uint32 group_id   = 1; 
  required uint32 status   = 2;   // 是否客户端进行展示 0=不展示，1=展示 default=0
  optional uint32 disturb   = 3;   // 是否免打扰模式1=是，0为接收消息 default=0                  (新增字段)
}

//CMD_ACCOUNT_GROUP_TOL_QUERY_RSP 群组总数查询响应
message account_group_tol_query_rsp
{
  repeated group_status group_list    = 1; 
}

/////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_QUERY_REQ 群组查询请求
message account_group_query_req
{
  required uint32 app_id         = 1;
  required uint32 uid             = 2;  //用户ID
  repeated uint32 group_id_list   = 3;  //获取组列表id
}


//CMD_ACCOUNT_GROUP_QUERY_RSP 群组查询响应
message account_group_query_rsp
{
  required error_code_e error_code      = 1;
  required string desc                  = 2;
  repeated msg_group_info group_list    = 3; 
}

/////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_QRCODE_QUERY_REQ 群组二维码生成请求
message account_group_qrcode_query_req
{
  required uint32 app_id         = 1;
  required uint32 group_id       = 2;  //用户ID
}

//CMD_ACCOUNT_GROUP_QRCODE_QUERY_RSP 群组二维码生成响应
message account_group_qrcode_query_rsp
{
  required string qrcode       = 1; 
  required uint32 start_time   = 2;
  required uint32 end_time     = 3;
}

/////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_ID_QUERY_REQ 群组扫码查询群组id请求
message account_group_id_query_req
{
  required uint32 app_id         = 1;
  required string qrcode          = 2;  
}

//CMD_ACCOUNT_GROUP_ID_QUERY_RSP 群组扫码查询群组id响应
message account_group_id_query_rsp
{
  required msg_group_info group_list    = 1; 
}


/////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_UPDATE_REQ 群组更新请求
message account_group_update_req
{
  required uint32 app_id      = 1;
  required uint32 group_id    = 2;     //组ID
  required uint32 oper_uid    = 3;     // 操作者uid
  required uint32 type      = 4;     // 修改类型 1-group_name  2-announcement
  required string value       = 5;     // 修改值
}
//CMD_ACCOUNT_GROUP_UPDATE_RSP 群组更新响应
message account_group_update_rsp
{
  required error_code_e error_code      = 1;
  required string desc                  = 2;
}

/////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_SET_ADMIN_REQ 群组管理员设置请求
message account_group_set_admin_req
{
  required uint32 app_id      = 1;
  required uint32  group_id    = 2;
  required uint32  old_mgr_uid          = 3;
  required uint32  new_mgr_uid          = 4;
}
//CMD_ACCOUNT_GROUP_SET_ADMIN_RSP 群组管理员设置响应
message account_group_set_admin_rsp
{
    required error_code_e error_code      = 1;
    required string desc                  = 2;
}

//CMD_ACCOUNT_GROUP_MEMBER_INSERT_REQ 群组成员添加请求
message account_group_member_insert_req
{
  required uint32 app_id      = 1;
  required uint32 group_id   = 2;
  required uint32 uid         = 3;  
  repeated account_group_member_info member_info = 4;
}

//CMD_ACCOUNT_GROUP_MEMBER_INSERT_RSP 群组成员添加响应
message account_group_member_insert_rsp
{
  required error_code_e error_code      = 1;
  required string desc                  = 2;
  repeated uint32 fail_list         = 3; // 添加失败成员列表
}
/////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_MEMBER_QUERY_REQ 群组成员查询请求
message account_group_member_query_req
{
  required uint32 app_id      = 1;
  required uint32 uid         = 2;
  required uint32 group_id    = 3;
}

//CMD_ACCOUNT_GROUP_MEMBER_QUERY_RSP 群组成员查询响应
message account_group_member_query_rsp
{
  required error_code_e error_code      = 1;
  required string desc                  = 2;
  repeated account_group_member_info member_info = 3;
  optional uint32 group_id              = 4;
}

/////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_MEMBER_DELETE_REQ 群组成员删除请求
message account_group_member_delete_req
{
  required uint32 app_id      = 1;
  required uint32 group_id    = 2;
  required uint32 oper_uid    = 3;
  repeated uint32 member_list  = 4;
}

//CMD_ACCOUNT_GROUP_MEMBER_DELETE_RSP 群组成员删除响应
message account_group_member_delete_rsp
{
  required error_code_e error_code      = 1;
  required string desc                  = 2;
}


/////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_MEMBER_CHECK_REQ 群组成员判断请求
message account_group_member_check_req
{
  required uint32 app_id      = 1;
  required uint32 group_id    = 2;
  required uint32 uid          = 3;
}
//CMD_ACCOUNT_GROUP_MEMBER_CHECK_RSP 群组成员判断响应
message account_group_member_check_rsp
{
  required error_code_e error_code      = 1;
  required string desc                  = 2;
  required uint32 group_user_flag       = 3; // 0是群组成员，1不是群组成员
}

////////////////////////////////////////////////////////////
//CMD_ACCOUNT_GROUP_MEMBER_INFO_UPDATE_REQ 群组成员信息更新请求
message account_group_member_info_update_req
{
  required uint32 uid       = 1;     // uid
  required string token     = 2;     // 
  required uint32 group_id    = 3;     // 
  required uint32 type      = 4;     // 修改类型 1-member_remarks
  required string value       = 5;     // 修改值
}

//CMD_ACCOUNT_GROUP_MEMBER_EXIT_REQ 群组成员退出请求
message account_group_member_exit_req
{
  required uint32 group_id    = 1;
  required uint32 uid       = 2;
}

message group_version_info
{
  required uint32 group_id           = 1; // 群组id。
  required uint32 group_base_ver       = 2; // 群组基本信息版本。
  required uint32 group_mem_ver        = 3; //  群组成员基本信息版本。
}

// CMD_ACCOUNT_GROUP_VERSION_REQ 群组基本信息版本请求（用于管理客户端什么时候需要重新拉取群基本信息及群成员信息。）
message account_group_version_req
{
  required uint32 uid          = 1;
  required string token        = 2;
  repeated uint32 group_id_list = 3;
}

//CMD_ACCOUNT_GROUP_VERSION_RSP 群组基本信息版本响应
message account_group_version_rsp
{
  repeated group_version_info group_ver_info       = 1; 
}

// CMD_SVR_QRCODE_QUERY_REQ 集群间二维码查询群组id请求
message svr_qrcode_query_req
{
  required string qrcode = 1;
}

// CMD_SVR_QRCODE_QUERY_RSP 集群间二维码查询群组id响应
message svr_qrcode_query_rsp
{
  required uint32 start_time   = 1;
  required uint32 end_time     = 2;
  required msg_group_info group_info    = 3; 
}

// CMD_GROUP_ID_INFO_SAVE_REQ 群组id保存请求
message group_id_info_save_req
{
  required uint32 uid     = 1;
  required uint32 group_id  = 2;
}

// CMD_GROUP_ID_INFO_DEL_REQ 群组id删除请求
message group_id_info_del_req
{
  required uint32 uid     = 1;
  required uint32 group_id  = 2;
}

/////////////////////////////////////////////////////////
//CMD_ACCOUNT_ADD_GROUP_THROUGH_QRCODE_REQ 通过二维码加入群组请求
message account_add_group_through_qrcode_req
{
  required string qrcode         = 1;  
  required uint32 uid            = 2;  
  required string remarks         = 3;  
}

// CMD_ACCOUNT_GROUP_INFO_UPDATE_NOTE_REQ 群组信息更新通知请求
message account_group_info_update_note_req
{
  required uint32 group_id  = 1;
  required uint32 oper_uid  = 2;     // 操作者uid
  required uint32 type      = 3;     // 修改类型 1-group_name  2-announcement
  required string value     = 4;     // 修改值
}

// CMD_ACCOUNT_GROUP_UPDATE_ADMIN_NOTE_REQ 群组管理员更新通知请求
message account_group_update_admin_note_req
{
  required uint32  group_id             = 1;
  required uint32  old_mgr_uid          = 2;
  required uint32  new_mgr_uid          = 3;
}

// CMD_ACCOUNT_GROUP_MEMBER_INFO_UPDATE_NOTE_REQ 群组成员信息更新通知请求
message account_group_member_info_update_note_req
{
  required uint32 uid         = 1;     // uid
  required uint32 group_id    = 2;     // 
  required uint32 type        = 3;     // 修改类型 1-member_remarks
  required string value       = 4;     // 修改值
}

// CMD_ACCOUNT_GROUP_MEMBER_ADD_QRCODE_NOTE_REQ 群组成员通过二维码加入群组通知请求
message account_group_member_add_qrcode_note_req
{
  required uint32 group_id = 1;
  required uint32 uid      = 2;
  required string remarks  = 3;
}

// CMD_ACCOUNT_GROUP_MEMBER_ADD_NOTE_REQ 群组成员添加通知请求
message account_group_member_add_note_req
{
  required uint32 group_id    = 1;
  required uint32 uid           = 2;  
  repeated account_group_member_info member_info = 3;
}

// CMD_ACCOUNT_GROUP_MEMBER_DEL_NOTE_REQ 群组成员删除通知请求
message account_group_member_del_note_req
{
  required uint32 group_id      = 1;
  required uint32 oper_uid      = 2;
  repeated uint32 member_list   = 3;
}

// CMD_ACCOUNT_GROUP_MEMBER_EXIT_NOTE_REQ 群组成员退出通知请求
message account_group_member_exit_note_req
{
  required uint32 group_id      = 1;
  required uint32 uid         = 2;
}


message message_mps_rev_del_req
{
    required uint32 user_id = 1;
    repeated uint32 seq     = 2;
    repeated string task_id = 3;
}

message message_notify_mps_status_req
{
    required uint32 user_id = 1;
    required string task_id = 2;
	required uint32 status  = 3;
	optional uint32 percent = 4;
}

//#define CMD_GET_FILE_INFO_CROSS_TIME_TYPE_REQ    // 通过类型/时间获取文件信息
message cli_get_file_info_cross_time_type_req
{
    required uint32 mgr_uid = 1;
    required uint32 dev_uid = 2;
    optional uint32 alarm_type = 3;
    optional uint32 start_time = 4; // 开始时间
    optional uint32 end_time = 5; 	// 结束时间
}

//#define CMD_GET_FILE_INFO_CROSS_TIME_TYPE_RSP    // 通过类型/时间获取文件信息
message cli_get_file_info_cross_time_type_rsp
{
    repeated uint64 files_id = 1;
}

//#define CMD_DEV_GET_FILE_INFO_CROSS_TIME_TYPE_REQ    // 设备通过类型/时间获取文件信息
message dev_get_file_info_cross_time_type_req
{
    required uint32 uid = 1;
    optional uint32 alarm_type = 2;
    optional uint32 start_time = 3; // 开始时间
    optional uint32 end_time = 4; 	// 结束时间
}

//#define CMD_DEV_GET_FILE_INFO_CROSS_TIME_TYPE_RSP    // 设备通过类型/时间获取文件信息
message dev_get_file_info_cross_time_type_rsp
{
    repeated uint64 files_id = 1;
}

//#define CMD_MGR_DEL_DEV_OWE_FILE_REQ    // 管理者删除设备文件请求
message mgr_del_dev_owe_file_req
{
    required uint32 mgr_uid      = 1;  // 管理者id
    required uint32 dev_uid      = 2;  // 设备id
    repeated uint64 files_id     = 3;  //文件id列表
}

message message_addr_info
{
	optional uint32 result	= 1;	//结果
	optional string ip		= 2;	//ip
}

message message_get_addr_req
{
	required uint32 src_user_id = 1;
}


/***************************************多终端登录*************************************/
// CMD_PC_LOGIN_BUILD_QRCODE_RSP pc登录二维码生成响应
message pc_login_build_qrcode_rsp
{
  required string qrcode = 1;
}

// CMD_QRCODE_LINK_ACCOUNT_REQ 二维码关联账户请求
message qrcode_link_account_req
{
  required string qrcode = 1;
  required string token  = 2;
  required uint32 uid  = 3;
}

// CMD_PC_LINK_ACCOUNT_INFO_REQ PC关联账户信息请求
message pc_link_account_info_req
{
  // 展示信息
  required string type  = 1;
  required string account = 2;
  required string url   = 3;  // 头像
  // 请求
  required uint32 uid   = 4;
  required string alias   = 5; 
}

// CMD_PC_QRCODE_LOGIN_REQ pc二维码登录请求
message pc_qrcode_login_req
{
  required string qrcode = 1;
  required uint32 uid 	 = 2;
}

// CMD_ALLOW_PC_LOGIN_REQ 允许pc登录
message allow_pc_login_req
{
  required uint32 uid  = 1;  
}

// CMD_MOBILE_LOGOUT_PC_REQ 手机退出pc登录请求
message mobile_logout_pc_req
{
  required uint32 uid = 1;
}

// CMD_PHONE_TO_PC_FORCE_LOGOUT_REQ 强制pc退出通知请求
message phone_to_pc_force_logout_req
{
  required int32 uid           = 1;
}

// CMD_PC_LOGIN_COMPELETE_REQ pc登录完成通知
message pc_login_complete_req
{
  required string token           = 1;
  required uint32 uid             = 2;
}

// CMD_PC_RECONNECT_LOGIN_REQ pc断线重连请求
message pc_reconnect_login_req
{
  required uint32 cli_type 		= 1;
  required string token 		= 2;
  required uint32 uid    		= 3;
}

// CMD_PC_ONLINE_STATUS_NOTE_REQ pc是否在线通知请求
message pc_online_status_req
{
  required uint32 status    = 1; // 0= pc not notline 1= pc online
}

/******************************管理员获取机器人个人文件*******************************/
//#define CMD_CLIENT_QUERY_DEV_OWN_FILE_INFOS_REQ     
message msg_query_dev_own_file_infos_req    
{
    required uint32 user_id                   = 1;  
    required uint32 dev_id                    = 2; 
    repeated uint64 file_ids                  = 3;  
}

//#define CMD_CLIENT_QUERY_DEV_OWN_FILE_INFOS_RSP     
message msg_query_dev_own_file_infos_rsp      
{
    repeated msg_file_info files_info         = 1;
}

//#define CMD_CLIENT_DOWN_DEV_FILE_REQ     
message msg_down_dev_file_req
{
    required uint32 user_id           = 1; 
    required uint32 dev_id            = 2; 
    required uint64 file_id           = 3; 
    required uint32 file_type         = 4; 
    required uint32 thumbnails        = 5; //=1表示下载小图，=0表示下载原图
}

//#define CMD_CLIENT_DOWN_DEV_FILE_RSP  
message msg_down_dev_file_rsp    
{
    required string file_md5    = 1;        //文件md5值
    required uint64 file_size   = 2;        //文件大小
    required string down_url    = 3;        //下载url
    required string file_name   = 4;        //文件名称
    
	required uint64 file_id     = 5;    	//文件id
    required uint32 thumbnails       = 6;
	
	optional string cli_desc    = 7;  // 客户端自定义使用字段
	optional uint32 alarm_type     = 8;  // 告警类型
    optional uint32 alarm_start_time   = 9;  // 告警开始时间   
    optional uint32 alarm_end_time     = 10;  // 告警开始时间
	
	optional string req_id           = 11;
}

//#define CMD_CLIENT_FINISH_DOWN_DEV_FILE_REQ  
message msg_finish_down_dev_file_req
{              
    required uint32 user_id           = 1; 
    required uint32 dev_id            = 2; 
    required uint32 cancel_flag       = 3;  //cancel=1表示取消
    required string req_id            = 4;
}

// CMD_ACCOUNT_GROUP_CREATE_NOTE_REQ 群组新建通知请求
message account_group_create_note_req
{
  required uint32  group_id     = 1;
  required uint32  create_uid   = 2;  // 群主id
}

/*******************************第一道门20170605******************************/
//#define CMD_CLIENT_UPLOAD_EMOTION_REQ 
message msg_client_upload_emotion_req
{
	required uint32   user_id              = 1;
    required string   sentence             = 2; 
}
  
//#define CMD_CLIENT_UPLOAD_EMOTION_RSP    
message msg_client_upload_emotion_rsp    
{
	required uint32 emotion_type            = 1;  
}

//#define CMD_CLIENT_UPLOAD_FIRST_DOOR_REQ 
message msg_client_upload_first_door_req
{
	required uint32   user_id              = 1;
    required string   sentence             = 2; 
	required uint32   bclear               = 3; //clear=1表示清除之前统计信息
}

//#define CMD_CLIENT_UPLOAD_FIRST_DOOR_RSP
message msg_client_upload_first_door_rsp
{
	optional string msg                   = 1;
}

//#define CMD_SERVER_PUSH_MSG_REQ                      0x00029100
message msg_server_push_msg_req
{
	required string   sentence             = 1; 
}

/************************管理员查询机器人个人文件列表20170608*******************/
//CMD_CLIENT_QUERY_DEV_OWN_FILE_IDS_REQ    
message msg_client_query_dev_own_file_ids_req
{
    required uint32 user_id          = 1; 
    required uint32 dev_id           = 2; 
}

//CMD_CLIENT_QUERY_DEV_OWN_FILE_IDS_RSP  
message msg_client_query_dev_own_file_ids_rsp        
{
    repeated uint64 file_ids        = 1; 
}

/************************群组消息免打扰20170608*******************/
//CMD_GROUP_ID_DISTURB_REQ 群组是否免打扰请求
message group_id_disturb_req
{
  required uint32 uid     	= 1;
  required uint32 group_id  = 2;
  required uint32 disturb  	= 3;	// 是否免打扰模式1=是，0为接收消息
}

//CMD_ACCOUNT_GROUP_SHOW_INFO_QUERY_REQ 群组展示信息查询请求
message account_group_show_info_query_req
{
  required uint32 uid             	= 1;  // 用户ID
  repeated uint32 group_id   		= 2; 
}

//CMD_ACCOUNT_GROUP_SHOW_INFO_QUERY_RSP 群组展示信息查询响应
message account_group_show_info_query_rsp
{
  repeated group_status group_list    = 1; 
}

/****************************群组离线通知消息20170704****************************/
message group_sys_note_info
{
  required uint32 oper_uid	= 1;	//operator uid
  optional uint32 type     = 2;     // 修改类型 msg_type=2(1-group_name  2-announcement) msg_type=4(1-member_remarks)
  optional string value    = 3;     // 修改值
  optional uint32 new_mgr_uid       = 4;
  repeated account_group_member_info member_info = 5;
}

message group_sys_note_req
{
  required uint32 msg_id                  = 1;  // 消息id序号  
  required uint32 msg_type                = 2;
  required uint32 group_id                = 3;
  required uint32 date                    = 4;
  
  required group_sys_note_info note_info  = 5;
}

// CMD_GROUP_SYS_NOTE_RSP 群组系统消息通知响应
message group_sys_note_rsp
{
  required uint32 uid               = 1;  
  required string token             = 2;  
  repeated uint32 msg_id            = 3;
  required uint32 msg_type          = 4;  // 
} 

// CMD_GROUP_SYS_NOTE_MSG_QUERY_REQ 群组系统消息查询请求 （一次最多返回60条） 查到没有为止
message group_sys_note_msg_query_req   
{ 
  required uint32 uid             = 1;  
  required string token           = 2;  
}

// CMD_GROUP_SYS_NOTE_MSG_QUERY_RSP 群组系统消息查询响应 （一次最多返回60条） 查到没有为止
message group_sys_note_msg_query_rsp   
{ 
  repeated group_sys_note_req group_info = 1;  
}

// CMD_GROUP_SYS_NOTE_MSG_READ_REQ 群组系统消息已读请求
message group_sys_note_read_req   
{ 
  required uint32 uid               = 1;  
  required string token             = 2;  
  repeated uint32 msg_id            = 3;  // 消息id序号  
}

/**************************添加好友完成通知请求20170721**************************/
// CMD_ADD_FRI_COMPLETE_NOTE_REQ  添加好友完成通知请求
message add_fri_complete_note_req
{
  required uint32 answer_type =1; // 是否同意添加好友 0：拒绝  1：接受
  required uint32 uid = 2;
}

/**************************共享机器人列表查询请求20170725**************************/
//CMD_SHARE_SANBOT_LIST_QUERY_REQ 共享机器人列表查询请求
message share_sanbot_list_query_req
{
  required uint32 uid             = 1;
}

//CMD_SHARE_SANBOT_LIST_QUERY_RSP 共享机器人列表查询响应
message share_sanbot_list_query_rsp
{
  repeated uint32 list_user_id      = 1;
}

/**************************默认回复设置20170801**************************/
message default_reply_info_insert
{
	required uint32 type 	= 1;	// 回复类型（同意/拒绝）
	required string reply 	= 2;	// 回复内容
}

message default_reply_info
{
	required uint32 seq 	= 1;	// 序号（服务器维护）
	required uint32 type 	= 2;	// 回复类型（同意/拒绝）
	required string reply 	= 3;	// 回复内容

}

// CMD_DEFAULT_REPLY_MSG_QUERY_REQ 默认回复消息查询请求
message default_reply_msg_query_req
{
	required uint32 uid =1;
}

// CMD_DEFAULT_REPLY_MSG_QUERY_RSP 默认回复消息查询响应
message default_reply_msg_query_rsp
{
	repeated default_reply_info info = 1;
}

// CMD_DEFAULT_REPLY_MSG_MODIFY_REQ 默认回复消息修改请求
message default_reply_msg_modify_req
{
	required uint32 uid 	= 1;
	required uint32 seq 	= 2;	// 序号（服务器维护）
	required uint32 type 	= 3;	// 回复类型（同意/拒绝）
	required string reply 	= 4;	// 回复内容
}

// CMD_DEFAULT_REPLY_MSG_MODIFY_RSP 默认回复消息修改响应


// CMD_DEFAULT_REPLY_MSG_DEL_REQ 默认回复消息删除请求
message default_reply_msg_del_req
{
	required uint32 uid =1;
	repeated uint32 seq =2;
}

// CMD_DEFAULT_REPLY_MSG_DEL_RSP 默认回复消息删除响应


// CMD_DEFAULT_REPLY_MSG_INSERT_REQ 默认回复消息增加请求
message default_reply_msg_insert_req
{
	required uint32 uid 			=1;
	repeated default_reply_info_insert info =2;
}

// CMD_DEFAULT_REPLY_MSG_INSERT_RSP 默认回复消息增加响应
message default_reply_msg_insert_rsp
{
	repeated uint32 seq 			=1;
}

